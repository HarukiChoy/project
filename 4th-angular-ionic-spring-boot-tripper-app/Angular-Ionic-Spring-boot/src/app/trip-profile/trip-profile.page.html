<ion-content>
  <div class="header">
    <ion-buttons>
      <ion-back-button defaultHref="/"> </ion-back-button>
    </ion-buttons>
    <ion-buttons>
      <ion-button (click)="edit()">
        <ion-icon name="create-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </div>
  <div class="title">Trip Info</div>

  <!-- <ng-container *ngIf="trip$ | async as trip">
    <div>error: {{trip.error}}</div>
    <div>trip: {{trip.trip}}</div>
  </ng-container> -->

  <form class="trip-form" (ngSubmit)="updateTrip()">
    <!-- Travel from -->
    <div class="row">
      <!-- label -->
      <div class="left-box">
        <div class="subtitle">
          <ion-label for="from-date">From</ion-label>
        </div>

        <!-- period -->
        <div class="period-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="from-date"
              type="date"
              [(ngModel)]="fromDate"
            ></ion-input>
          </div>
        </div>
      </div>
      <!-- airport -->
      <div class="right-box">
        <div class="subtitle">
          <ion-label for="from-airport">Airport</ion-label>
        </div>
        <div class="airport-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="airplane-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="from-airport"
              type="text"
              [(ngModel)]="departureIATA"
            ></ion-input>
          </div>
        </div>
      </div>
    </div>

    <!-- Travel to -->
    <div class="row">
      <!-- label -->
      <div class="left-box">
        <div class="subtitle">
          <ion-label for="to-date">To</ion-label>
        </div>

        <!-- period -->
        <div class="period-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="to-date"
              type="date"
              [(ngModel)]="toDate"
            ></ion-input>
          </div>
        </div>
      </div>
      <!-- airport -->
      <div class="right-box">
        <div class="subtitle">
          <ion-label for="to-airport">Airport</ion-label>
        </div>
        <div class="airport-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="airplane-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="to-airport"
              type="text"
              [(ngModel)]="arrivalIATA"
            ></ion-input>
          </div>
        </div>
      </div>
    </div>

    <!-- Departure Info -->
    <div class="ticket-part">
      <div class="subtitle">
        <ion-label for="departure-ticket">Departure Air Flight Name</ion-label>
      </div>
      <div class="form-input">
        <div class="input-icon">
          <ion-icon name="paper-plane-outline"></ion-icon>
        </div>
        <ion-input
          [disabled]="isDisabled"
          name="departure-ticket"
          type="text"
          [(ngModel)]="departureFlight"
          placeholder="Enter your departure air flight ticket"
        ></ion-input>
      </div>
    </div>

    <div class="row">
      <!-- label -->
      <div class="left-box">
        <div class="subtitle">
          <ion-label for="from-departure-time">Departure Time</ion-label>
        </div>

        <!-- period -->
        <div class="time-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="from-departure-time"
              type="time"
              [(ngModel)]="fromDepartureTime"
            ></ion-input>
          </div>
        </div>
      </div>
      <!-- airport -->
      <div class="right-box">
        <div class="subtitle">
          <ion-label for="from-arrival-time">Arrival Time</ion-label>
        </div>
        <div class="airport-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="airplane-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="from-arrival-time"
              type="time"
              [(ngModel)]="fromArrivalTime"
            ></ion-input>
          </div>
        </div>
      </div>
    </div>

    <!-- Arrival Info -->
    <div class="ticket-part">
      <div class="subtitle">
        <ion-label for="arrival-ticket">Arrival Air Flight Name</ion-label>
      </div>
      <div class="form-input">
        <div class="input-icon">
          <ion-icon name="paper-plane-outline"></ion-icon>
        </div>
        <ion-input
          [disabled]="isDisabled"
          name="arrival-ticket"
          type="text"
          [(ngModel)]="arrivalFlight"
          placeholder="Enter your arrival air flight ticket"
        ></ion-input>
      </div>
    </div>

    <div class="row">
      <!-- label -->
      <div class="left-box">
        <div class="subtitle">
          <ion-label for="to-departure-time">Departure Time</ion-label>
        </div>

        <!-- period -->
        <div class="time-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="to-departure-time"
              type="time"
              [(ngModel)]="toDepartureTime"
            ></ion-input>
          </div>
        </div>
      </div>
      <!-- airport -->
      <div class="right-box">
        <div class="subtitle">
          <ion-label for="to-arrival-time">Arrival Time</ion-label>
        </div>
        <div class="airport-part">
          <div class="form-input">
            <div class="input-icon">
              <ion-icon name="airplane-outline"></ion-icon>
            </div>
            <ion-input
              [disabled]="isDisabled"
              name="to-arrival-time"
              type="time"
              [(ngModel)]="toArrivalTime"
            ></ion-input>
          </div>
        </div>
      </div>
    </div>

    <br />
    <div>
      <ion-buttons *ngIf="!isDisabled">
        <ion-button class="submit-btn" type="submit" expand="block">
          Save the trip profile
        </ion-button>
      </ion-buttons>
    </div>
  </form>
  <br />

  <div>
    <ion-buttons *ngIf="!isDisabled">
      <ion-button class="prepare-btn" expand="block" (click)="prepare()">
        Prepare List
      </ion-button>
    </ion-buttons>
  </div>
  <br />
  <div>
    <ion-buttons *ngIf="!isDisabled">
      <ion-button class="schedule-btn" expand="block" (click)="schedule()">
        Schedule
      </ion-button>
    </ion-buttons>
  </div>
  <br />
</ion-content>
